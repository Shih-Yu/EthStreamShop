{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createIdRemapMiddleware = void 0;\n\nconst getUniqueId_1 = require(\"./getUniqueId\");\n\nfunction createIdRemapMiddleware() {\n  return (req, res, next, _end) => {\n    const originalId = req.id;\n    const newId = getUniqueId_1.getUniqueId();\n    req.id = newId;\n    res.id = newId;\n    next(done => {\n      req.id = originalId;\n      res.id = originalId;\n      done();\n    });\n  };\n}\n\nexports.createIdRemapMiddleware = createIdRemapMiddleware;","map":{"version":3,"sources":["../src/idRemapMiddleware.ts"],"names":[],"mappings":";;;;;;;AAAA,MAAA,aAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AAGA,SAAgB,uBAAhB,GAAuC;AACrC,SAAO,CAAC,GAAD,EAAM,GAAN,EAAW,IAAX,EAAiB,IAAjB,KAAyB;AAC9B,UAAM,UAAU,GAAG,GAAG,CAAC,EAAvB;AACA,UAAM,KAAK,GAAG,aAAA,CAAA,WAAA,EAAd;AACA,IAAA,GAAG,CAAC,EAAJ,GAAS,KAAT;AACA,IAAA,GAAG,CAAC,EAAJ,GAAS,KAAT;AACA,IAAA,IAAI,CAAE,IAAD,IAAS;AACZ,MAAA,GAAG,CAAC,EAAJ,GAAS,UAAT;AACA,MAAA,GAAG,CAAC,EAAJ,GAAS,UAAT;AACA,MAAA,IAAI;AACL,KAJG,CAAJ;AAKD,GAVD;AAWD;;AAZD,OAAA,CAAA,uBAAA,GAAA,uBAAA","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createIdRemapMiddleware = void 0;\nconst getUniqueId_1 = require(\"./getUniqueId\");\nfunction createIdRemapMiddleware() {\n    return (req, res, next, _end) => {\n        const originalId = req.id;\n        const newId = getUniqueId_1.getUniqueId();\n        req.id = newId;\n        res.id = newId;\n        next((done) => {\n            req.id = originalId;\n            res.id = originalId;\n            done();\n        });\n    };\n}\nexports.createIdRemapMiddleware = createIdRemapMiddleware;\n"]},"metadata":{},"sourceType":"script"}