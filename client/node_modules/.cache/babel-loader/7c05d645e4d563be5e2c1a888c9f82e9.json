{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports.BurnerProvider = t() : e.BurnerProvider = t();\n}(window, function () {\n  return function (e) {\n    var t = {};\n\n    function n(r) {\n      if (t[r]) return t[r].exports;\n      var i = t[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(i.exports, i, i.exports, n), i.l = !0, i.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, r) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: r\n      });\n    }, n.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (e, t) {\n      if (1 & t && (e = n(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var r = Object.create(null);\n      if (n.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var i in e) n.d(r, i, function (t) {\n        return e[t];\n      }.bind(null, i));\n      return r;\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"\", n(n.s = 0);\n  }([function (e, t, n) {\n    \"use strict\";\n\n    var r,\n        i = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);\n      })(e, t);\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    }),\n        o = this && this.__assign || function () {\n      return (o = Object.assign || function (e) {\n        for (var t, n = 1, r = arguments.length; n < r; n++) for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n\n        return e;\n      }).apply(this, arguments);\n    },\n        s = this && this.__awaiter || function (e, t, n, r) {\n      return new (n || (n = Promise))(function (i, o) {\n        function s(e) {\n          try {\n            u(r.next(e));\n          } catch (e) {\n            o(e);\n          }\n        }\n\n        function a(e) {\n          try {\n            u(r.throw(e));\n          } catch (e) {\n            o(e);\n          }\n        }\n\n        function u(e) {\n          var t;\n          e.done ? i(e.value) : (t = e.value, t instanceof n ? t : new n(function (e) {\n            e(t);\n          })).then(s, a);\n        }\n\n        u((r = r.apply(e, t || [])).next());\n      });\n    },\n        a = this && this.__generator || function (e, t) {\n      var n,\n          r,\n          i,\n          o,\n          s = {\n        label: 0,\n        sent: function () {\n          if (1 & i[0]) throw i[1];\n          return i[1];\n        },\n        trys: [],\n        ops: []\n      };\n      return o = {\n        next: a(0),\n        throw: a(1),\n        return: a(2)\n      }, \"function\" == typeof Symbol && (o[Symbol.iterator] = function () {\n        return this;\n      }), o;\n\n      function a(o) {\n        return function (a) {\n          return function (o) {\n            if (n) throw new TypeError(\"Generator is already executing.\");\n\n            for (; s;) try {\n              if (n = 1, r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, o[1])).done) return i;\n\n              switch (r = 0, i && (o = [2 & o[0], i.value]), o[0]) {\n                case 0:\n                case 1:\n                  i = o;\n                  break;\n\n                case 4:\n                  return s.label++, {\n                    value: o[1],\n                    done: !1\n                  };\n\n                case 5:\n                  s.label++, r = o[1], o = [0];\n                  continue;\n\n                case 7:\n                  o = s.ops.pop(), s.trys.pop();\n                  continue;\n\n                default:\n                  if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) {\n                    s = 0;\n                    continue;\n                  }\n\n                  if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {\n                    s.label = o[1];\n                    break;\n                  }\n\n                  if (6 === o[0] && s.label < i[1]) {\n                    s.label = i[1], i = o;\n                    break;\n                  }\n\n                  if (i && s.label < i[2]) {\n                    s.label = i[2], s.ops.push(o);\n                    break;\n                  }\n\n                  i[2] && s.ops.pop(), s.trys.pop();\n                  continue;\n              }\n\n              o = t.call(e, s);\n            } catch (e) {\n              o = [6, e], r = 0;\n            } finally {\n              n = i = 0;\n            }\n\n            if (5 & o[0]) throw o[1];\n            return {\n              value: o[0] ? o[1] : void 0,\n              done: !0\n            };\n          }([o, a]);\n        };\n      }\n    },\n        u = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var c = n(1),\n        l = u(n(2)),\n        f = u(n(3)),\n        d = u(n(4)),\n        h = u(n(5)),\n        p = function (e) {\n      function t(t) {\n        var n = void 0 === t ? {} : t,\n            r = n.hubUrl,\n            i = void 0 === r ? \"https://burnerconnect.xyz/\" : r,\n            o = n.defaultNetwork,\n            s = void 0 === o ? \"1\" : o,\n            a = n.defaultWallets,\n            u = void 0 === a ? [] : a,\n            c = e.call(this) || this;\n        return c.isBurnerProvider = !0, c.connected = !1, c.walletBridge = null, c.wallet = null, c._nextJsonRpcId = 0, c.walletSelector = new h.default(), c.defaultWallets = [], c.network = s, c.hub = new l.default(i), c.defaultWallets = u, c.on = null, window.addEventListener(\"message\", function (e) {\n          c.walletBridge && e.origin === c.walletBridge.origin && e.data.message && \"accountsChanged\" === e.data.message && c.emit(\"accountsChanged\", e.data.accounts);\n        }), c;\n      }\n\n      return i(t, e), t.prototype.setNetwork = function (e) {\n        e !== this.network && (this.network = e, this.emit(\"chainChanged\", e));\n      }, t.prototype.getAssets = function () {\n        return s(this, void 0, void 0, function () {\n          var e;\n          return a(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return [4, (e = this.getBridge()).ensureIFrame()];\n\n              case 1:\n                return t.sent(), [4, e.sendCommand(\"getAssets\")];\n\n              case 2:\n                return [2, t.sent()];\n            }\n          });\n        });\n      }, t.prototype.enable = function () {\n        var e = this;\n        return this.connected ? Promise.resolve() : new Promise(function (t, n) {\n          return s(e, void 0, void 0, function () {\n            var e,\n                r = this;\n            return a(this, function (i) {\n              switch (i.label) {\n                case 0:\n                  this.walletSelector.onClose(function () {\n                    r.walletSelector.close(), n();\n                  }), i.label = 1;\n\n                case 1:\n                  return i.trys.push([1, 7, 8, 9]), this.walletSelector.showStarting(), [4, this.showPrompt()];\n\n                case 2:\n                  return i.sent(), [4, this.needsPopup()];\n\n                case 3:\n                  return i.sent() ? [4, this.showPopup()] : [3, 5];\n\n                case 4:\n                  i.sent(), i.label = 5;\n\n                case 5:\n                  return this.walletBridge = new f.default(this.wallet.origin), [4, this.walletBridge.ensureIFrame()];\n\n                case 6:\n                  return i.sent(), this.getBridge().send({\n                    id: 1e8 * Math.random() | 0,\n                    method: \"eth_accounts\",\n                    network: this.network\n                  }), this.connected = !0, this.emit(\"connect\"), t(), [3, 9];\n\n                case 7:\n                  return e = i.sent(), console.error(e), n(), [3, 9];\n\n                case 8:\n                  return this.walletSelector.close(), [7];\n\n                case 9:\n                  return [2];\n              }\n            });\n          });\n        });\n      }, t.prototype.showPrompt = function () {\n        return s(this, void 0, void 0, function () {\n          var e;\n          return a(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return [4, this.walletSelector.showSelector(this.hub, this.defaultWallets)];\n\n              case 1:\n                return e = t.sent(), this.walletSelector.showConnecting(e.name), this.wallet = e, [2];\n            }\n          });\n        });\n      }, t.prototype.needsPopup = function () {\n        return s(this, void 0, void 0, function () {\n          var e, t;\n          return a(this, function (n) {\n            switch (n.label) {\n              case 0:\n                return [4, (e = new d.default(this.wallet.origin)).needsPopup()];\n\n              case 1:\n                return t = n.sent(), e.remove(), [2, t];\n            }\n          });\n        });\n      }, t.prototype.showPopup = function () {\n        return s(this, void 0, void 0, function () {\n          var e;\n          return a(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return [4, (e = new d.default(this.wallet.origin)).showPopup(this.walletSelector.getPanel())];\n\n              case 1:\n                return t.sent(), e.remove(), [2];\n            }\n          });\n        });\n      }, t.prototype.send = function (e, t) {\n        if (void 0 === t && (t = []), !e || \"string\" != typeof e) return new Error(\"Method is not a valid string.\");\n        if (!(t instanceof Array)) return new Error(\"Params is not a valid array.\");\n        var n = {\n          jsonrpc: \"2.0\",\n          id: this._nextJsonRpcId++,\n          method: e,\n          params: t\n        };\n        return this.getBridge().send(o({\n          network: this.network\n        }, n));\n      }, t.prototype.sendAsync = function (e, t) {\n        if (!this.connected) throw new Error(\"BurnerConnect Provider is not connected\");\n        this.getBridge().send(o({\n          network: this.network\n        }, e)).then(function (n) {\n          var r = n.result;\n          return t(null, {\n            id: e.id,\n            jsonrpc: \"2.0\",\n            result: r\n          });\n        }).catch(function (e) {\n          return t(e);\n        });\n      }, t.prototype.getBridge = function () {\n        if (!this.walletBridge) throw new Error(\"BurnerConnect is not yet connected\");\n        return this.walletBridge;\n      }, t;\n    }(c.EventEmitter);\n\n    t.default = p;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r,\n        i = \"object\" == typeof Reflect ? Reflect : null,\n        o = i && \"function\" == typeof i.apply ? i.apply : function (e, t, n) {\n      return Function.prototype.apply.call(e, t, n);\n    };\n    r = i && \"function\" == typeof i.ownKeys ? i.ownKeys : Object.getOwnPropertySymbols ? function (e) {\n      return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e));\n    } : function (e) {\n      return Object.getOwnPropertyNames(e);\n    };\n\n    var s = Number.isNaN || function (e) {\n      return e != e;\n    };\n\n    function a() {\n      a.init.call(this);\n    }\n\n    e.exports = a, a.EventEmitter = a, a.prototype._events = void 0, a.prototype._eventsCount = 0, a.prototype._maxListeners = void 0;\n    var u = 10;\n\n    function c(e) {\n      if (\"function\" != typeof e) throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof e);\n    }\n\n    function l(e) {\n      return void 0 === e._maxListeners ? a.defaultMaxListeners : e._maxListeners;\n    }\n\n    function f(e, t, n, r) {\n      var i, o, s, a;\n      if (c(n), void 0 === (o = e._events) ? (o = e._events = Object.create(null), e._eventsCount = 0) : (void 0 !== o.newListener && (e.emit(\"newListener\", t, n.listener ? n.listener : n), o = e._events), s = o[t]), void 0 === s) s = o[t] = n, ++e._eventsCount;else if (\"function\" == typeof s ? s = o[t] = r ? [n, s] : [s, n] : r ? s.unshift(n) : s.push(n), (i = l(e)) > 0 && s.length > i && !s.warned) {\n        s.warned = !0;\n        var u = new Error(\"Possible EventEmitter memory leak detected. \" + s.length + \" \" + String(t) + \" listeners added. Use emitter.setMaxListeners() to increase limit\");\n        u.name = \"MaxListenersExceededWarning\", u.emitter = e, u.type = t, u.count = s.length, a = u, console && console.warn && console.warn(a);\n      }\n      return e;\n    }\n\n    function d() {\n      if (!this.fired) return this.target.removeListener(this.type, this.wrapFn), this.fired = !0, 0 === arguments.length ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);\n    }\n\n    function h(e, t, n) {\n      var r = {\n        fired: !1,\n        wrapFn: void 0,\n        target: e,\n        type: t,\n        listener: n\n      },\n          i = d.bind(r);\n      return i.listener = n, r.wrapFn = i, i;\n    }\n\n    function p(e, t, n) {\n      var r = e._events;\n      if (void 0 === r) return [];\n      var i = r[t];\n      return void 0 === i ? [] : \"function\" == typeof i ? n ? [i.listener || i] : [i] : n ? function (e) {\n        for (var t = new Array(e.length), n = 0; n < t.length; ++n) t[n] = e[n].listener || e[n];\n\n        return t;\n      }(i) : v(i, i.length);\n    }\n\n    function m(e) {\n      var t = this._events;\n\n      if (void 0 !== t) {\n        var n = t[e];\n        if (\"function\" == typeof n) return 1;\n        if (void 0 !== n) return n.length;\n      }\n\n      return 0;\n    }\n\n    function v(e, t) {\n      for (var n = new Array(t), r = 0; r < t; ++r) n[r] = e[r];\n\n      return n;\n    }\n\n    Object.defineProperty(a, \"defaultMaxListeners\", {\n      enumerable: !0,\n      get: function () {\n        return u;\n      },\n      set: function (e) {\n        if (\"number\" != typeof e || e < 0 || s(e)) throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + e + \".\");\n        u = e;\n      }\n    }), a.init = function () {\n      void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;\n    }, a.prototype.setMaxListeners = function (e) {\n      if (\"number\" != typeof e || e < 0 || s(e)) throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + e + \".\");\n      return this._maxListeners = e, this;\n    }, a.prototype.getMaxListeners = function () {\n      return l(this);\n    }, a.prototype.emit = function (e) {\n      for (var t = [], n = 1; n < arguments.length; n++) t.push(arguments[n]);\n\n      var r = \"error\" === e,\n          i = this._events;\n      if (void 0 !== i) r = r && void 0 === i.error;else if (!r) return !1;\n\n      if (r) {\n        var s;\n        if (t.length > 0 && (s = t[0]), s instanceof Error) throw s;\n        var a = new Error(\"Unhandled error.\" + (s ? \" (\" + s.message + \")\" : \"\"));\n        throw a.context = s, a;\n      }\n\n      var u = i[e];\n      if (void 0 === u) return !1;\n      if (\"function\" == typeof u) o(u, this, t);else {\n        var c = u.length,\n            l = v(u, c);\n\n        for (n = 0; n < c; ++n) o(l[n], this, t);\n      }\n      return !0;\n    }, a.prototype.addListener = function (e, t) {\n      return f(this, e, t, !1);\n    }, a.prototype.on = a.prototype.addListener, a.prototype.prependListener = function (e, t) {\n      return f(this, e, t, !0);\n    }, a.prototype.once = function (e, t) {\n      return c(t), this.on(e, h(this, e, t)), this;\n    }, a.prototype.prependOnceListener = function (e, t) {\n      return c(t), this.prependListener(e, h(this, e, t)), this;\n    }, a.prototype.removeListener = function (e, t) {\n      var n, r, i, o, s;\n      if (c(t), void 0 === (r = this._events)) return this;\n      if (void 0 === (n = r[e])) return this;\n      if (n === t || n.listener === t) 0 == --this._eventsCount ? this._events = Object.create(null) : (delete r[e], r.removeListener && this.emit(\"removeListener\", e, n.listener || t));else if (\"function\" != typeof n) {\n        for (i = -1, o = n.length - 1; o >= 0; o--) if (n[o] === t || n[o].listener === t) {\n          s = n[o].listener, i = o;\n          break;\n        }\n\n        if (i < 0) return this;\n        0 === i ? n.shift() : function (e, t) {\n          for (; t + 1 < e.length; t++) e[t] = e[t + 1];\n\n          e.pop();\n        }(n, i), 1 === n.length && (r[e] = n[0]), void 0 !== r.removeListener && this.emit(\"removeListener\", e, s || t);\n      }\n      return this;\n    }, a.prototype.off = a.prototype.removeListener, a.prototype.removeAllListeners = function (e) {\n      var t, n, r;\n      if (void 0 === (n = this._events)) return this;\n      if (void 0 === n.removeListener) return 0 === arguments.length ? (this._events = Object.create(null), this._eventsCount = 0) : void 0 !== n[e] && (0 == --this._eventsCount ? this._events = Object.create(null) : delete n[e]), this;\n\n      if (0 === arguments.length) {\n        var i,\n            o = Object.keys(n);\n\n        for (r = 0; r < o.length; ++r) \"removeListener\" !== (i = o[r]) && this.removeAllListeners(i);\n\n        return this.removeAllListeners(\"removeListener\"), this._events = Object.create(null), this._eventsCount = 0, this;\n      }\n\n      if (\"function\" == typeof (t = n[e])) this.removeListener(e, t);else if (void 0 !== t) for (r = t.length - 1; r >= 0; r--) this.removeListener(e, t[r]);\n      return this;\n    }, a.prototype.listeners = function (e) {\n      return p(this, e, !0);\n    }, a.prototype.rawListeners = function (e) {\n      return p(this, e, !1);\n    }, a.listenerCount = function (e, t) {\n      return \"function\" == typeof e.listenerCount ? e.listenerCount(t) : m.call(e, t);\n    }, a.prototype.listenerCount = m, a.prototype.eventNames = function () {\n      return this._eventsCount > 0 ? r(this._events) : [];\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function e(e) {\n        this.iframe = null, this.msgId = 0, this.url = e;\n      }\n\n      return e.prototype.ensureIFrame = function () {\n        var e = this;\n        return this.iframe ? Promise.resolve(this.iframe) : new Promise(function (t) {\n          e.iframe = document.createElement(\"iframe\"), e.iframe.src = e.url, e.iframe.style.cssText = \"height:0; width:0; border:none\", e.iframe.addEventListener(\"load\", function () {\n            return t();\n          }), document.body.appendChild(e.iframe);\n        });\n      }, e.prototype.getFrame = function (e) {\n        var t = this;\n        this.iframe = document.createElement(\"iframe\");\n        var n = this.url + \"/selector.html\";\n        return e && e.length > 0 && (n += \"#wallets=\" + encodeURIComponent(JSON.stringify(e))), this.iframe.src = n, this.iframe.style.border = \"none\", this.iframe.sandbox = \"allow-storage-access-by-user-activation allow-scripts allow-same-origin\", window.addEventListener(\"message\", function (e) {\n          console.log(e.data), \"setHeight\" === e.data.message && (t.iframe.style.height = e.data.height + \"px\");\n        }), this.iframe;\n      }, e.prototype.awaitSelection = function () {\n        return new Promise(function (e) {\n          window.addEventListener(\"message\", function (t) {\n            \"walletSelected\" === t.data.message && e(t.data.wallet);\n          });\n        });\n      }, e.prototype.send = function (e) {\n        var t = this;\n        return new Promise(function (n) {\n          var r = t.msgId++,\n              i = function (e) {\n            e.data.id === r && (window.removeEventListener(\"message\", i), n(e.data.response));\n          };\n\n          window.addEventListener(\"message\", i), t.iframe.contentWindow.postMessage({\n            command: e,\n            id: r\n          }, t.url);\n        });\n      }, e;\n    }();\n\n    t.default = r;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__awaiter || function (e, t, n, r) {\n      return new (n || (n = Promise))(function (i, o) {\n        function s(e) {\n          try {\n            u(r.next(e));\n          } catch (e) {\n            o(e);\n          }\n        }\n\n        function a(e) {\n          try {\n            u(r.throw(e));\n          } catch (e) {\n            o(e);\n          }\n        }\n\n        function u(e) {\n          var t;\n          e.done ? i(e.value) : (t = e.value, t instanceof n ? t : new n(function (e) {\n            e(t);\n          })).then(s, a);\n        }\n\n        u((r = r.apply(e, t || [])).next());\n      });\n    },\n        i = this && this.__generator || function (e, t) {\n      var n,\n          r,\n          i,\n          o,\n          s = {\n        label: 0,\n        sent: function () {\n          if (1 & i[0]) throw i[1];\n          return i[1];\n        },\n        trys: [],\n        ops: []\n      };\n      return o = {\n        next: a(0),\n        throw: a(1),\n        return: a(2)\n      }, \"function\" == typeof Symbol && (o[Symbol.iterator] = function () {\n        return this;\n      }), o;\n\n      function a(o) {\n        return function (a) {\n          return function (o) {\n            if (n) throw new TypeError(\"Generator is already executing.\");\n\n            for (; s;) try {\n              if (n = 1, r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, o[1])).done) return i;\n\n              switch (r = 0, i && (o = [2 & o[0], i.value]), o[0]) {\n                case 0:\n                case 1:\n                  i = o;\n                  break;\n\n                case 4:\n                  return s.label++, {\n                    value: o[1],\n                    done: !1\n                  };\n\n                case 5:\n                  s.label++, r = o[1], o = [0];\n                  continue;\n\n                case 7:\n                  o = s.ops.pop(), s.trys.pop();\n                  continue;\n\n                default:\n                  if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) {\n                    s = 0;\n                    continue;\n                  }\n\n                  if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {\n                    s.label = o[1];\n                    break;\n                  }\n\n                  if (6 === o[0] && s.label < i[1]) {\n                    s.label = i[1], i = o;\n                    break;\n                  }\n\n                  if (i && s.label < i[2]) {\n                    s.label = i[2], s.ops.push(o);\n                    break;\n                  }\n\n                  i[2] && s.ops.pop(), s.trys.pop();\n                  continue;\n              }\n\n              o = t.call(e, s);\n            } catch (e) {\n              o = [6, e], r = 0;\n            } finally {\n              n = i = 0;\n            }\n\n            if (5 & o[0]) throw o[1];\n            return {\n              value: o[0] ? o[1] : void 0,\n              done: !0\n            };\n          }([o, a]);\n        };\n      }\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function e(e) {\n        this.iframe = null, this.msgId = 0, this.origin = e;\n      }\n\n      return e.prototype.send = function (e) {\n        return r(this, void 0, void 0, function () {\n          return i(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return [4, this.ensureIFrame()];\n\n              case 1:\n                return t.sent(), [4, this.sendCommand(\"send\", e)];\n\n              case 2:\n                return [2, t.sent()];\n            }\n          });\n        });\n      }, e.prototype.ensureIFrame = function () {\n        var e = this;\n        return this.iframeLoadPromise ? this.iframeLoadPromise : (this.iframeLoadPromise = new Promise(function (t) {\n          e.iframe = document.createElement(\"iframe\"), e.iframe.src = e.origin + \"/burnerconnect-bridge.html\", e.iframe.style.cssText = \"height:0; width:0; border:none; position: absolute\";\n\n          var n = function (r) {\n            \"frameLoaded\" === r.data.message && (window.removeEventListener(\"message\", n), t(e.iframe));\n          };\n\n          window.addEventListener(\"message\", n), document.body.appendChild(e.iframe);\n        }), this.iframeLoadPromise);\n      }, e.prototype.getFrame = function () {\n        if (!this.iframe) throw new Error(\"No iframe\");\n        return this.iframe;\n      }, e.prototype.sendCommand = function (e, t) {\n        var n = this;\n        return new Promise(function (r) {\n          var i = n.msgId++,\n              o = function (e) {\n            e.data.id === i && (window.removeEventListener(\"message\", o), r(e.data.response));\n          };\n\n          window.addEventListener(\"message\", o), n.iframe.contentWindow.postMessage({\n            command: e,\n            id: i,\n            params: t\n          }, n.origin);\n        });\n      }, e.prototype.remove = function () {\n        var e = this.getFrame();\n        e.parentNode.removeChild(e);\n      }, e;\n    }();\n\n    t.default = o;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function e(e) {\n        this.iframe = null, this.msgId = 0, this.origin = e;\n      }\n\n      return e.prototype.createIframe = function (e) {\n        var t = this;\n\n        if (void 0 === e && (e = !1), this.iframe = document.createElement(\"iframe\"), this.iframe.src = this.origin + \"/burnerconnect-login.html\", this.iframe.style.cssText = e ? \"border:none; width: 100%\" : \"height:0; width:0; border:none; position: absolute\", e) {\n          window.addEventListener(\"message\", function (e) {\n            \"setSize\" === e.data.message && (t.iframe.style.height = e.data.height + \"px\");\n          });\n        }\n\n        return this.iframe;\n      }, e.prototype.needsPopup = function () {\n        var e = this;\n        return new Promise(function (t) {\n          var n = e.createIframe();\n          window.addEventListener(\"message\", function (e) {\n            \"needsPopup\" === e.data.message ? t(!0) : \"ready\" === e.data.message && t(!1);\n          }), document.body.appendChild(n);\n        });\n      }, e.prototype.showPopup = function (e) {\n        var t = this;\n        return new Promise(function (n) {\n          var r = t.createIframe(!0);\n          window.addEventListener(\"message\", function (e) {\n            \"ready\" === e.data.message && n();\n          }), e.appendChild(r);\n        });\n      }, e.prototype.getFrame = function () {\n        if (!this.iframe) throw new Error(\"No iframe\");\n        return this.iframe;\n      }, e.prototype.remove = function () {\n        var e = this.getFrame();\n        e.parentNode.removeChild(e);\n      }, e;\n    }();\n\n    t.default = r;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function e() {\n        this.closeListeners = [];\n      }\n\n      return e.prototype.getPanel = function () {\n        var e = this;\n\n        if (this.container || (this.container = document.createElement(\"div\"), this.container.style.cssText = \"\\n        display: flex;\\n        flex-direction: column;\\n        position: fixed;\\n        top: 0;\\n        bottom: 0;\\n        left: 0;\\n        right: 0;\\n        background: rgba(200, 200, 200, 0.5);\\n        z-index: 10000001;\\n        align-items: center;\\n      \", document.body.appendChild(this.container)), !this.panel) {\n          var t = document.createElement(\"div\");\n          t.style.cssText = \"\\n        display: flex;\\n        flex-direction: column;\\n        padding: 8px;\\n        margin: 8px;\\n        border-radius: 8px;\\n        background: #ffffff;\\n        max-width: 500px;\\n      \";\n          var n = document.createElement(\"button\");\n          n.innerText = \"x\", n.style.cssText = \"\\n        margin-left: auto;\\n      \", n.addEventListener(\"click\", function () {\n            return e.closeListeners.forEach(function (e) {\n              return e();\n            });\n          }), t.appendChild(n);\n          var r = document.createElement(\"div\");\n          t.appendChild(r), this.panel = r, this.container.appendChild(t);\n        }\n\n        return this.panel;\n      }, e.prototype.showStarting = function () {\n        this.getPanel().innerHTML = \"<h2>Fetching your Burner Wallets...</h2>\";\n      }, e.prototype.showSelector = function (e, t) {\n        return this.getPanel().appendChild(e.getFrame(t)), e.awaitSelection();\n      }, e.prototype.showFrame = function (e) {\n        var t = this.getPanel();\n        t.innerHTML = \"\", e.style.height = \"100px\", e.style.width = \"100px\", t.appendChild(e);\n      }, e.prototype.showConnecting = function (e) {\n        this.getPanel().innerHTML = \"<h2>Connecting to \" + e + \"...</h2>\";\n      }, e.prototype.close = function () {\n        document.body.removeChild(this.container), this.container = null, this.panel = null;\n      }, e.prototype.onClose = function (e) {\n        this.closeListeners.push(e);\n      }, e;\n    }();\n\n    t.default = r;\n  }]);\n});","map":{"version":3,"sources":["webpack://BurnerProvider/webpack/universalModuleDefinition","webpack://BurnerProvider/webpack/bootstrap","webpack://BurnerProvider/src/BurnerProvider.ts","webpack://BurnerProvider/node_modules/events/events.js","webpack://BurnerProvider/src/HubBridge.ts","webpack://BurnerProvider/src/WalletBridge.ts","webpack://BurnerProvider/src/WalletLogin.ts","webpack://BurnerProvider/src/WalletSelector.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Math","random","network","defaultNetwork","hub","hubUrl","defaultWallets","on","addEventListener","event","walletBridge","origin","data","message","emit","accounts","this","bridge","getBridge","ensureIFrame","sendCommand","connected","Promise","resolve","reject","walletSelector","onClose","close","showStarting","showPrompt","needsPopup","showPopup","wallet","send","id","method","console","error","showSelector","showConnecting","login","remove","getPanel","params","Error","Array","_nextJsonRpcId","payload","jsonrpc","cb","then","result","catch","R","Reflect","ReflectApply","apply","target","receiver","args","Function","ReflectOwnKeys","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","warning","warn","NumberIsNaN","Number","isNaN","EventEmitter","init","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","set","arg","RangeError","getPrototypeOf","setMaxListeners","_getMaxListeners","that","getMaxListeners","type","arguments","length","push","doError","events","er","err","context","handler","len","listeners","arrayClone","_addListener","prepend","existing","newListener","unshift","warned","w","String","emitter","count","addListener","prependListener","onceWrapper","fired","removeListener","wrapFn","_onceWrap","state","wrapped","once","prependOnceListener","list","position","originalListener","shift","spliceOne","off","removeAllListeners","keys","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","listenerCount","eventNames","arr","copy","index","pop","ret","url","iframe","document","createElement","src","style","cssText","body","appendChild","encodeURIComponent","JSON","stringify","border","sandbox","e","log","height","command","msgId","removeEventListener","response","contentWindow","postMessage","iframeLoadPromise","loadListener","frame","getFrame","parentNode","removeChild","visible","createIframe","container","panel","outer","innerText","closeListeners","forEach","content","innerHTML","awaitSelection","width"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"BurnerProvider\"] = factory();\n\telse\n\t\troot[\"BurnerProvider\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { EventEmitter } from 'events';\nimport HubBridge from './HubBridge';\nimport WalletBridge from './WalletBridge';\nimport WalletLogin from './WalletLogin';\nimport WalletSelector from './WalletSelector';\n\nconst id = () => (Math.random() * 100000000) | 0;\n\nexport interface Wallet {\n  origin: string;\n  name: string;\n}\n\ninterface ConstructorProps {\n  hubUrl?: string;\n  defaultNetwork?: string;\n  defaultWallets?: Wallet[],\n}\n\nexport default class BurnerProvider extends EventEmitter {\n  public isBurnerProvider = true;\n  public hub: HubBridge;\n  public connected = false;\n  public walletBridge: WalletBridge | null = null;\n  public wallet: any = null;\n  public network: string;\n  private _nextJsonRpcId = 0;\n  private walletSelector = new WalletSelector();\n  private defaultWallets: Wallet[] = [];\n\n  constructor({\n    hubUrl = 'https://burnerconnect.xyz/',\n    defaultNetwork = '1',\n    defaultWallets = [],\n  }: ConstructorProps = {}) {\n    super();\n    this.network = defaultNetwork;\n    this.hub = new HubBridge(hubUrl);\n    this.defaultWallets = defaultWallets;\n\n    // @ts-ignore\n    this.on = null; // Override this, otherwise Web3 will try to use subscriptions\n\n    window.addEventListener('message', (event: any) => {\n      if (this.walletBridge && event.origin === this.walletBridge.origin && event.data.message) {\n        if (event.data.message === 'accountsChanged') {\n          this.emit('accountsChanged', event.data.accounts);\n        }\n      }\n    });\n  }\n\n  setNetwork(network: string) {\n    if (network !== this.network) {\n      this.network = network;\n      this.emit('chainChanged', network);\n    }\n  }\n\n  async getAssets() {\n    const bridge = this.getBridge();\n    await bridge.ensureIFrame();\n    const assets = await bridge.sendCommand('getAssets');\n    return assets;\n  }\n\n  enable() {\n    if (this.connected) {\n      return Promise.resolve();\n    }\n\n    return new Promise(async (resolve, reject) => {\n      this.walletSelector.onClose(() => {\n        this.walletSelector.close();\n        reject();\n      });\n\n      try {\n        this.walletSelector.showStarting();\n        await this.showPrompt();\n\n        if (await this.needsPopup()) {\n          await this.showPopup();\n        }\n\n        this.walletBridge = new WalletBridge(this.wallet.origin);\n        await this.walletBridge.ensureIFrame();\n\n        this.getBridge().send({\n          id: id(),\n          method: 'eth_accounts',\n          network: this.network,\n        });\n\n        this.connected = true;\n        this.emit('connect');\n        resolve();\n      } catch (e) {\n        console.error(e);\n        reject();\n      } finally {\n        this.walletSelector.close();\n      }\n    });\n  }\n\n  async showPrompt() {\n    const wallet = await this.walletSelector.showSelector(this.hub, this.defaultWallets);\n    this.walletSelector.showConnecting(wallet.name);\n    this.wallet = wallet;\n  }\n\n  async needsPopup() {\n    const login = new WalletLogin(this.wallet.origin);\n    const needsPopup = await login.needsPopup();\n    login.remove();\n    return needsPopup;\n  }\n\n  async showPopup() {\n    const login = new WalletLogin(this.wallet.origin);\n    await login.showPopup(this.walletSelector.getPanel());\n    login.remove();\n  }\n\n  send(method: string, params: any[] = []) {\n    if (!method || typeof method !== 'string') {\n      return new Error('Method is not a valid string.');\n    }\n\n    if (!(params instanceof Array)) {\n      return new Error('Params is not a valid array.');\n    }\n\n    const id = this._nextJsonRpcId++;\n    const payload = { jsonrpc: '2.0', id, method, params };\n\n    return this.getBridge().send({ network: this.network, ...payload });\n  }\n\n  sendAsync(payload: any, cb: any) {\n    if (!this.connected) {\n      throw new Error('BurnerConnect Provider is not connected');\n    }\n\n    this.getBridge().send({ network: this.network, ...payload })\n      .then(({ result }: any) => cb(null, { id: payload.id, jsonrpc: '2.0', result }))\n      .catch((error: any) => cb(error));\n  }\n\n  getBridge(): WalletBridge {\n    if (!this.walletBridge) {\n      throw new Error(`BurnerConnect is not yet connected`);\n    }\n    return this.walletBridge;\n  }\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","export default class HubBridge {\n  private iframe: any = null;\n  private url: string;\n  private msgId = 0;\n\n  constructor(url: string) {\n    this.url = url;\n  }\n\n  ensureIFrame() {\n    if (this.iframe) {\n      return Promise.resolve(this.iframe);\n    }\n\n    return new Promise((resolve) => {\n      this.iframe = document.createElement('iframe');\n      this.iframe.src = this.url;\n      this.iframe.style.cssText = 'height:0; width:0; border:none';\n      this.iframe.addEventListener('load', () => resolve());\n\n      document.body.appendChild(this.iframe);\n    });\n  }\n\n  getFrame(defaultWallets?: any[]) {\n    this.iframe = document.createElement('iframe');\n\n    let url = `${this.url}/selector.html`;\n    if (defaultWallets && defaultWallets.length > 0) {\n      url += `#wallets=${encodeURIComponent(JSON.stringify(defaultWallets))}`;\n    }\n    this.iframe.src = url;\n\n    this.iframe.style.border = 'none';\n    this.iframe.sandbox = 'allow-storage-access-by-user-activation allow-scripts allow-same-origin';\n\n    window.addEventListener('message', (e: any) => {\n      console.log(e.data);\n      if (e.data.message === 'setHeight') {\n        this.iframe.style.height = `${e.data.height}px`;\n      }\n    });\n\n    return this.iframe;\n  }\n\n  awaitSelection(): Promise<any> {\n    return new Promise((resolve) => {\n      window.addEventListener('message', (e: any) => {\n        if (e.data.message === 'walletSelected') {\n          resolve(e.data.wallet);\n        }\n      });\n    });\n  }\n\n  send(command: string) {\n    return new Promise((resolve) => {\n      const id = this.msgId++;\n      const listener = (e: any) => {\n        if (e.data.id === id) {\n          window.removeEventListener('message', listener);\n          resolve(e.data.response);\n        }\n      }\n      window.addEventListener('message', listener);\n      this.iframe.contentWindow.postMessage({ command, id }, this.url);\n    });\n  }\n}\n","export default class HubBridge {\n  public origin: string;\n  private iframe: any = null;\n  private iframeLoadPromise?: Promise<any>;\n  private msgId = 0;\n\n  constructor(origin: string) {\n    this.origin = origin;\n  }\n\n  async send(payload: any) {\n    await this.ensureIFrame();\n    const response = await this.sendCommand('send', payload);\n    return response;\n  }\n\n  ensureIFrame() {\n    if (this.iframeLoadPromise) {\n      return this.iframeLoadPromise;\n    }\n\n    this.iframeLoadPromise = new Promise((resolve) => {\n      this.iframe = document.createElement('iframe');\n      this.iframe.src = `${this.origin}/burnerconnect-bridge.html`;\n      this.iframe.style.cssText = 'height:0; width:0; border:none; position: absolute';\n      // this.iframe.addEventListener('load', () => {console.log('loaded');resolve()});\n      // this.iframe.sandbox = 'allow-storage-access-by-user-activation allow-scripts allow-same-origin';\n\n      const loadListener = (e: any) => {\n        if (e.data.message === 'frameLoaded') {\n          window.removeEventListener('message', loadListener);\n          resolve(this.iframe);\n        }\n      }\n      window.addEventListener('message', loadListener);\n\n      document.body.appendChild(this.iframe);\n    });\n    return this.iframeLoadPromise;\n  }\n\n  getFrame() {\n    if (!this.iframe) {\n      throw new Error('No iframe');\n    }\n    return this.iframe;\n  }\n\n  sendCommand(command: string, params?: any) {\n    return new Promise((resolve) => {\n      const id = this.msgId++;\n      const listener = (e: any) => {\n        if (e.data.id === id) {\n          window.removeEventListener('message', listener);\n          resolve(e.data.response);\n        }\n      }\n      window.addEventListener('message', listener);\n      this.iframe.contentWindow.postMessage({ command, id, params }, this.origin);\n    });\n  }\n\n  remove() {\n    const frame = this.getFrame();\n    frame.parentNode.removeChild(frame);\n  }\n}\n","export default class WalletLogin {\n  public origin: string;\n  private iframe: any = null;\n  private msgId = 0;\n\n  constructor(origin: string) {\n    this.origin = origin;\n  }\n\n  createIframe(visible: boolean = false) {\n    this.iframe = document.createElement('iframe');\n    this.iframe.src = `${this.origin}/burnerconnect-login.html`;\n    this.iframe.style.cssText = visible ? 'border:none; width: 100%' : 'height:0; width:0; border:none; position: absolute';\n\n    if (visible) {\n      const resizeListener = (e: any) => {\n        if (e.data.message === 'setSize') {\n          this.iframe.style.height = `${e.data.height}px`;\n        }\n      }\n      window.addEventListener('message', resizeListener);\n    }\n    return this.iframe;\n  }\n\n  needsPopup(): Promise<boolean> {\n    return new Promise((resolve) => {\n      const iframe = this.createIframe();\n      window.addEventListener('message', (e: any) => {\n        if (e.data.message === 'needsPopup') {\n          resolve(true);\n        } else if (e.data.message === 'ready') {\n          resolve(false);\n        }\n      });\n      document.body.appendChild(iframe);\n    });\n  }\n\n  showPopup(container: any): Promise<void> {\n    return new Promise((resolve) => {\n      const iframe = this.createIframe(true);\n      window.addEventListener('message', (e: any) => {\n        if (e.data.message === 'ready') {\n          resolve();\n        }\n      });\n      container.appendChild(iframe);\n    });\n  }\n\n  getFrame() {\n    if (!this.iframe) {\n      throw new Error('No iframe');\n    }\n    return this.iframe;\n  }\n\n  remove() {\n    const frame = this.getFrame();\n    frame.parentNode.removeChild(frame);\n  }\n}\n","import { Wallet } from './BurnerProvider';\nimport HubBridge from './HubBridge';\n\nlet container: HTMLDivElement | null = null;\n\nfunction setNormalListStyle(item: HTMLLIElement) {\n  item.style.cssText = `\n    background: #FFFFFF;\n    border-bottom: solid 1px #DDDDDD;\n    padding: 4px 0;\n    list-style: none;\n  `;\n}\n\nfunction setHoverListStyle(item: HTMLLIElement) {\n  item.style.cssText = `\n    background: #EEEEEE;\n    border-bottom: solid 1px #DDDDDD;\n    cursor: pointer;\n    padding: 4px 0;\n    list-style: none;\n  `;\n}\n\nfunction populateList(wallets: any[], list: HTMLUListElement, onClick: (wallet: any) => void) {\n  for (const wallet of wallets) {\n    const item = document.createElement('li');\n    item.innerHTML = `<div>${wallet.name}</div><div style=\"color: #555555\">${wallet.origin}</div>`;\n\n    item.addEventListener('click', () => onClick(wallet));\n    setNormalListStyle(item);\n    item.addEventListener('mouseover', (e: any) => setHoverListStyle(e.currentTarget));\n    item.addEventListener('mouseout', (e: any) => setNormalListStyle(e.currentTarget));\n    list.appendChild(item);\n  }\n}\n\nexport default class WalletSelector {\n  private container: any;\n  private panel: any;\n  private closeListeners: any[] = [];\n\n  getPanel() {\n    if (!this.container) {\n      this.container = document.createElement('div');\n      this.container.style.cssText = `\n        display: flex;\n        flex-direction: column;\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: rgba(200, 200, 200, 0.5);\n        z-index: 10000001;\n        align-items: center;\n      `;\n      document.body.appendChild(this.container);\n    }\n    if (!this.panel) {\n      const outer = document.createElement('div');\n      outer.style.cssText = `\n        display: flex;\n        flex-direction: column;\n        padding: 8px;\n        margin: 8px;\n        border-radius: 8px;\n        background: #ffffff;\n        max-width: 500px;\n      `;\n\n      const close = document.createElement('button');\n      close.innerText = 'x';\n      close.style.cssText = `\n        margin-left: auto;\n      `;\n      close.addEventListener('click', () => this.closeListeners.forEach(listener => listener()));\n      outer.appendChild(close);\n\n      const content = document.createElement('div');\n      outer.appendChild(content);\n\n      this.panel = content;\n      this.container.appendChild(outer);\n    }\n    return this.panel;\n  }\n\n  showStarting() {\n    const panel = this.getPanel();\n    panel.innerHTML = '<h2>Fetching your Burner Wallets...</h2>';\n  }\n\n  showSelector(bridge: HubBridge, defaultWallets?: Wallet[]) {\n    const panel = this.getPanel();\n    panel.appendChild(bridge.getFrame(defaultWallets));\n\n    return bridge.awaitSelection();\n  }\n\n  showFrame(iframe: any) {\n    const panel = this.getPanel();\n    panel.innerHTML = '';\n    iframe.style.height = '100px';\n    iframe.style.width = '100px';\n    panel.appendChild(iframe);\n  }\n\n  showConnecting(wallet: string) {\n    const panel = this.getPanel();\n    panel.innerHTML = `<h2>Connecting to ${wallet}...</h2>`;\n  }\n\n  close() {\n    document.body.removeChild(this.container!);\n    this.container = null;\n    this.panel = null;\n  }\n\n  onClose(listener: any) {\n    this.closeListeners.push(listener);\n  }\n}\n"]},"metadata":{},"sourceType":"script"}